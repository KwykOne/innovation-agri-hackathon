{"ast":null,"code":"import _classCallCheck from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\src\\\\components\\\\Mobile\\\\StoreReviews\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getReviewsForStore } from \"../../../services/rating/actions\";\nimport Meta from \"../../helpers/meta\";\nimport BackWithSearch from \"../Elements/BackWithSearch\";\nimport Loading from \"../../helpers/loading\";\nimport RestaurantInfo from \"../Items/RestaurantInfo\";\nimport { getRestaurantInfo, getRestaurantInfoForLoggedInUser } from \"../../../services/items/actions\";\n\nvar StoreReviews =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(StoreReviews, _Component);\n\n  function StoreReviews() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, StoreReviews);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StoreReviews)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: true\n    };\n\n    _this.getRatingStars = function (rating) {\n      var colorClass = \"rating-green\"; // 4-5 = green, 3 = orange, < 2 = red\n\n      if (rating <= 3) {\n        colorClass = \"rating-orange\";\n      }\n\n      if (rating <= 2) {\n        colorClass = \"rating-red\";\n      }\n\n      return React.createElement(\"span\", {\n        className: \"store-rating \" + colorClass,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, rating, \" \", React.createElement(\"i\", {\n        className: \"fa fa-star text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(StoreReviews, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // console.log(this.props.match.params.slug);\n      var user = this.props.user;\n      user.success ? this.props.getRestaurantInfoForLoggedInUser(this.props.match.params.slug) : this.props.getRestaurantInfo(this.props.match.params.slug);\n      this.props.getReviewsForStore(this.props.match.params.slug).then(function (response) {\n        if (response) {\n          _this2.setState({\n            loading: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          reviews = _this$props.reviews,\n          restaurant_info = _this$props.restaurant_info;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Meta, {\n        seotitle: localStorage.getItem(\"reviewsPageTitle\"),\n        seodescription: localStorage.getItem(\"seoMetaDescription\"),\n        ogtype: \"website\",\n        ogtitle: localStorage.getItem(\"seoOgTitle\"),\n        ogdescription: localStorage.getItem(\"seoOgDescription\"),\n        ogurl: window.location.href,\n        twittertitle: localStorage.getItem(\"seoTwitterTitle\"),\n        twitterdescription: localStorage.getItem(\"seoTwitterDescription\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(BackWithSearch, {\n        boxshadow: true,\n        has_title: true,\n        title: localStorage.getItem(\"reviewsPageTitle\"),\n        disable_search: true,\n        homeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), this.state.loading ? React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(RestaurantInfo, {\n        history: this.props.history,\n        restaurant: restaurant_info,\n        withLinkToRestaurant: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"pt-20 px-15 height-100 bg-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, reviews.map(function (review) {\n        return React.createElement(\"div\", {\n          className: \"single-review\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"mb-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, review.username), \" \", React.createElement(\"span\", {\n          className: \"ml-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, _this3.getRatingStars(review.rating_store))), React.createElement(\"p\", {\n          className: \"mb-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, review.review_store));\n      }))));\n    }\n  }]);\n\n  return StoreReviews;\n}(Component);\n\nStoreReviews.contextTypes = {\n  router: function router() {\n    return null;\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    reviews: state.rating.reviews,\n    restaurant_info: state.items.restaurant_info,\n    user: state.user.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getReviewsForStore: getReviewsForStore,\n  getRestaurantInfo: getRestaurantInfo,\n  getRestaurantInfoForLoggedInUser: getRestaurantInfoForLoggedInUser\n})(StoreReviews);","map":{"version":3,"sources":["C:\\xampp\\htdocs\\foodomaa\\src\\components\\Mobile\\StoreReviews\\index.js"],"names":["React","Component","connect","getReviewsForStore","Meta","BackWithSearch","Loading","RestaurantInfo","getRestaurantInfo","getRestaurantInfoForLoggedInUser","StoreReviews","state","loading","getRatingStars","rating","colorClass","user","props","success","match","params","slug","then","response","setState","reviews","restaurant_info","localStorage","getItem","window","location","href","history","map","review","username","rating_store","review_store","contextTypes","router","mapStateToProps","items"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getReviewsForStore } from \"../../../services/rating/actions\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport BackWithSearch from \"../Elements/BackWithSearch\";\r\nimport Loading from \"../../helpers/loading\";\r\nimport RestaurantInfo from \"../Items/RestaurantInfo\";\r\nimport { getRestaurantInfo, getRestaurantInfoForLoggedInUser } from \"../../../services/items/actions\";\r\n\r\nclass StoreReviews extends Component {\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\r\n\tstate = {\r\n\t\tloading: true,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\t// console.log(this.props.match.params.slug);\r\n\t\tconst { user } = this.props;\r\n\r\n\t\tuser.success\r\n\t\t\t? this.props.getRestaurantInfoForLoggedInUser(this.props.match.params.slug)\r\n\t\t\t: this.props.getRestaurantInfo(this.props.match.params.slug);\r\n\r\n\t\tthis.props.getReviewsForStore(this.props.match.params.slug).then((response) => {\r\n\t\t\tif (response) {\r\n\t\t\t\tthis.setState({ loading: false });\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tgetRatingStars = (rating) => {\r\n\t\tvar colorClass = \"rating-green\";\r\n\t\t// 4-5 = green, 3 = orange, < 2 = red\r\n\t\tif (rating <= 3) {\r\n\t\t\tcolorClass = \"rating-orange\";\r\n\t\t}\r\n\t\tif (rating <= 2) {\r\n\t\t\tcolorClass = \"rating-red\";\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<span className={\"store-rating \" + colorClass}>\r\n\t\t\t\t{rating} <i className=\"fa fa-star text-white\" />\r\n\t\t\t</span>\r\n\t\t);\r\n\t};\r\n\trender() {\r\n\t\tconst { reviews, restaurant_info } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"reviewsPageTitle\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<BackWithSearch\r\n\t\t\t\t\tboxshadow={true}\r\n\t\t\t\t\thas_title={true}\r\n\t\t\t\t\ttitle={localStorage.getItem(\"reviewsPageTitle\")}\r\n\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t\thomeButton={true}\r\n\t\t\t\t/>\r\n\t\t\t\t{this.state.loading ? (\r\n\t\t\t\t\t<Loading />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t{/* <RestaurantInfo restaurant={restaurant_info} /> */}\r\n\t\t\t\t\t\t<RestaurantInfo\r\n\t\t\t\t\t\t\thistory={this.props.history}\r\n\t\t\t\t\t\t\trestaurant={restaurant_info}\r\n\t\t\t\t\t\t\twithLinkToRestaurant={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className=\"pt-20 px-15 height-100 bg-light\">\r\n\t\t\t\t\t\t\t{reviews.map((review) => (\r\n\t\t\t\t\t\t\t\t<div className=\"single-review\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t<strong>{review.username}</strong>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"ml-1\">{this.getRatingStars(review.rating_store)}</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"mb-2\">{review.review_store}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\treviews: state.rating.reviews,\r\n\trestaurant_info: state.items.restaurant_info,\r\n\tuser: state.user.user,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{\r\n\t\tgetReviewsForStore,\r\n\t\tgetRestaurantInfo,\r\n\t\tgetRestaurantInfoForLoggedInUser,\r\n\t}\r\n)(StoreReviews);\r\n"]},"metadata":{},"sourceType":"module"}