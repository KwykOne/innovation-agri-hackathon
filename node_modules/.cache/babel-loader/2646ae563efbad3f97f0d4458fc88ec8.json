{"ast":null,"code":"import { APPLY_COUPON, COUPON_ERROR } from \"./actionTypes\";\nimport { APPLY_COUPON_URL } from \"../../configs\";\nimport Axios from \"axios\";\nexport var applyCoupon = function applyCoupon(token, coupon, restaurant_id, subtotal) {\n  return function (dispatch) {\n    return Axios.post(APPLY_COUPON_URL, {\n      token: token,\n      coupon: coupon,\n      restaurant_id: restaurant_id,\n      subtotal: subtotal\n    }).then(function (response) {\n      var coupon = response.data;\n      return [dispatch({\n        type: APPLY_COUPON,\n        payload: coupon\n      }), dispatch({\n        type: COUPON_ERROR,\n        payload: null\n      })];\n    }).catch(function (error) {\n      console.log(error);\n\n      if (error.response.status === 401) {\n        return dispatch({\n          type: COUPON_ERROR,\n          payload: \"NOTLOGGEDIN\"\n        });\n      }\n    });\n  };\n};\nexport var removeCoupon = function removeCoupon() {\n  return function (dispatch) {\n    console.log(\"Triggred Coupon Removed\");\n    var coupon = {\n      hideMessage: true,\n      coupon_error: \"\"\n    };\n    return dispatch({\n      type: APPLY_COUPON,\n      payload: coupon\n    });\n  };\n};\nexport var couponApplied = function couponApplied(coupon, percentage_discount) {\n  return function (dispatch) {\n    coupon.appliedAmount = percentage_discount;\n    return dispatch({\n      type: APPLY_COUPON,\n      payload: coupon\n    });\n  };\n};","map":{"version":3,"sources":["C:\\xampp\\htdocs\\foodomaa\\src\\services\\coupon\\actions.js"],"names":["APPLY_COUPON","COUPON_ERROR","APPLY_COUPON_URL","Axios","applyCoupon","token","coupon","restaurant_id","subtotal","dispatch","post","then","response","data","type","payload","catch","error","console","log","status","removeCoupon","hideMessage","coupon_error","couponApplied","percentage_discount","appliedAmount"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,YAAvB,QAA2C,eAA3C;AACA,SAASC,gBAAT,QAAiC,eAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAQC,MAAR,EAAgBC,aAAhB,EAA+BC,QAA/B;AAAA,SAA4C,UAACC,QAAD,EAAc;AACpF,WAAON,KAAK,CAACO,IAAN,CAAWR,gBAAX,EAA6B;AACnCG,MAAAA,KAAK,EAAEA,KAD4B;AAEnCC,MAAAA,MAAM,EAAEA,MAF2B;AAGnCC,MAAAA,aAAa,EAAEA,aAHoB;AAInCC,MAAAA,QAAQ,EAAEA;AAJyB,KAA7B,EAMLG,IANK,CAMA,UAACC,QAAD,EAAc;AACnB,UAAMN,MAAM,GAAGM,QAAQ,CAACC,IAAxB;AAEA,aAAO,CAACJ,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAEd,YAAR;AAAsBe,QAAAA,OAAO,EAAET;AAA/B,OAAD,CAAT,EAAoDG,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAEb,YAAR;AAAsBc,QAAAA,OAAO,EAAE;AAA/B,OAAD,CAA5D,CAAP;AACA,KAVK,EAWLC,KAXK,CAWC,UAASC,KAAT,EAAgB;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AACA,UAAIA,KAAK,CAACL,QAAN,CAAeQ,MAAf,KAA0B,GAA9B,EAAmC;AAClC,eAAOX,QAAQ,CAAC;AAAEK,UAAAA,IAAI,EAAEb,YAAR;AAAsBc,UAAAA,OAAO,EAAE;AAA/B,SAAD,CAAf;AACA;AACD,KAhBK,CAAP;AAiBA,GAlB0B;AAAA,CAApB;AAoBP,OAAO,IAAMM,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAM,UAACZ,QAAD,EAAc;AAC/CS,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AAEA,QAAMb,MAAM,GAAG;AAAEgB,MAAAA,WAAW,EAAE,IAAf;AAAqBC,MAAAA,YAAY,EAAE;AAAnC,KAAf;AACA,WAAOd,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAEd,YAAR;AAAsBe,MAAAA,OAAO,EAAET;AAA/B,KAAD,CAAf;AACA,GAL2B;AAAA,CAArB;AAOP,OAAO,IAAMkB,aAAa,GAAG,SAAhBA,aAAgB,CAAClB,MAAD,EAASmB,mBAAT;AAAA,SAAiC,UAAChB,QAAD,EAAc;AAC3EH,IAAAA,MAAM,CAACoB,aAAP,GAAuBD,mBAAvB;AACA,WAAOhB,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAEd,YAAR;AAAsBe,MAAAA,OAAO,EAAET;AAA/B,KAAD,CAAf;AACA,GAH4B;AAAA,CAAtB","sourcesContent":["import { APPLY_COUPON, COUPON_ERROR } from \"./actionTypes\";\r\nimport { APPLY_COUPON_URL } from \"../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nexport const applyCoupon = (token, coupon, restaurant_id, subtotal) => (dispatch) => {\r\n\treturn Axios.post(APPLY_COUPON_URL, {\r\n\t\ttoken: token,\r\n\t\tcoupon: coupon,\r\n\t\trestaurant_id: restaurant_id,\r\n\t\tsubtotal: subtotal,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst coupon = response.data;\r\n\r\n\t\t\treturn [dispatch({ type: APPLY_COUPON, payload: coupon }), dispatch({ type: COUPON_ERROR, payload: null })];\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t\tif (error.response.status === 401) {\r\n\t\t\t\treturn dispatch({ type: COUPON_ERROR, payload: \"NOTLOGGEDIN\" });\r\n\t\t\t}\r\n\t\t});\r\n};\r\n\r\nexport const removeCoupon = () => (dispatch) => {\r\n\tconsole.log(\"Triggred Coupon Removed\");\r\n\r\n\tconst coupon = { hideMessage: true, coupon_error: \"\" };\r\n\treturn dispatch({ type: APPLY_COUPON, payload: coupon });\r\n};\r\n\r\nexport const couponApplied = (coupon, percentage_discount) => (dispatch) => {\r\n\tcoupon.appliedAmount = percentage_discount;\r\n\treturn dispatch({ type: APPLY_COUPON, payload: coupon });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}