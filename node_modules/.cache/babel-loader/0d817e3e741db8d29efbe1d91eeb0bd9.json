{"ast":null,"code":"import _classCallCheck from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\src\\\\components\\\\Mobile\\\\Items\\\\RestaurantInfo\\\\index.js\";\nimport React, { Component } from \"react\";\nimport BackWithSearch from \"../../Elements/BackWithSearch\";\nimport ContentLoader from \"react-content-loader\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { setFavoriteRest } from \"../../../../services/items/actions\";\n\nvar RestaurantInfo =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RestaurantInfo, _Component);\n\n  function RestaurantInfo() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, RestaurantInfo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RestaurantInfo)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      withLinkToRestaurant: false,\n      isFavorite: false\n    };\n\n    _this.fixedRestaurantInfo = function (hidden) {\n      if (_this.child) {\n        if (hidden) {\n          _this.child.heading.classList.add(\"hidden\");\n        } else {\n          _this.child.heading.classList.remove(\"hidden\");\n        }\n      }\n    };\n\n    _this.scrollFunc = function () {\n      if (document.documentElement.scrollTop > 55) {\n        var hidden = false;\n\n        _this.fixedRestaurantInfo(hidden);\n      }\n\n      if (document.documentElement.scrollTop < 55) {\n        var _hidden = true;\n\n        _this.fixedRestaurantInfo(_hidden);\n      }\n    };\n\n    _this.setFavoriteRestaurant = function () {\n      var _this$props = _this.props,\n          restaurant_info = _this$props.restaurant_info,\n          user = _this$props.user;\n\n      if (user.success) {\n        if (restaurant_info.is_favorited) {\n          _this.refs.heartIcon.classList.remove(\"is-active\");\n        } else {\n          _this.refs.heartIcon.classList.add(\"is-active\");\n        }\n\n        _this.props.setFavoriteRest(user.data.auth_token, restaurant_info.id);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(RestaurantInfo, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        withLinkToRestaurant: this.props.withLinkToRestaurant\n      });\n\n      if (this.props.history.location.state && this.props.history.location.state.fromExplorePage) {\n        this.setState({\n          withLinkToRestaurant: this.props.history.location.state.fromExplorePage\n        });\n      }\n\n      this.registerScrollEvent();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeScrollEvent();\n    }\n  }, {\n    key: \"registerScrollEvent\",\n    value: function registerScrollEvent() {\n      window.addEventListener(\"scroll\", this.scrollFunc);\n    }\n  }, {\n    key: \"removeScrollEvent\",\n    value: function removeScrollEvent() {\n      window.removeEventListener(\"scroll\", this.scrollFunc);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          history = _this$props2.history,\n          restaurant = _this$props2.restaurant,\n          user = _this$props2.user;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bg-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(BackWithSearch, {\n        ref: function ref(node) {\n          _this2.child = node;\n        },\n        history: history,\n        boxshadow: false,\n        has_restaurant_info: true,\n        restaurant: restaurant,\n        disable_search: true,\n        homeButton: true,\n        shareButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), restaurant.length === 0 ? React.createElement(ContentLoader, {\n        height: 170,\n        width: 400,\n        speed: 1.2,\n        primaryColor: \"#f3f3f3\",\n        secondaryColor: \"#ecebeb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"rect\", {\n        x: \"20\",\n        y: \"70\",\n        rx: \"4\",\n        ry: \"4\",\n        width: \"80\",\n        height: \"78\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"85\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"115\",\n        height: \"18\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"rect\", {\n        x: \"144\",\n        y: \"115\",\n        rx: \"0\",\n        ry: \"0\",\n        width: \"165\",\n        height: \"16\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })) : React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"../../stores/\" + restaurant.slug,\n        className: this.state.withLinkToRestaurant ? \"\" : \"no-click\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex pt-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"px-15 mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: restaurant.image,\n        alt: restaurant.name,\n        className: \"restaurant-image mt-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"mt-5 pb-15 w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"font-w600 mb-5 text-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, restaurant.name), React.createElement(\"div\", {\n        className: \"font-size-sm text-muted truncate-text text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, restaurant.description), restaurant.is_pureveg === 1 && React.createElement(\"p\", {\n        className: \"mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-size-sm pr-1 text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, localStorage.getItem(\"pureVegText\")), React.createElement(\"img\", {\n        src: \"/assets/img/various/pure-veg.png\",\n        alt: \"PureVeg\",\n        style: {\n          width: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"text-center restaurant-meta mt-5 d-flex align-items-center justify-content-between text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, restaurant.avgRating === \"0\" ? React.createElement(\"div\", {\n        className: \"col-2 p-0 text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-star\",\n        style: {\n          color: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), \" \", restaurant.rating) : React.createElement(Link, {\n        to: \"/reviews/\" + restaurant.slug,\n        style: {\n          display: \"contents\"\n        },\n        className: \"yes-click\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-2 p-0 text-left store-rating-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-star\",\n        style: {\n          color: localStorage.getItem(\"storeColor\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), \" \", restaurant.avgRating)), React.createElement(\"div\", {\n        className: \"col-4 p-0 text-center store-distance-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"si si-clock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), \" \", restaurant.delivery_time, \" \", localStorage.getItem(\"homePageMinsText\")), React.createElement(\"div\", {\n        className: \"col-6 p-0 text-center store-avgprice-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"si si-wallet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), \" \", localStorage.getItem(\"currencySymbolAlign\") === \"left\" && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, localStorage.getItem(\"currencyFormat\"), restaurant.price_range, \" \"), localStorage.getItem(\"currencySymbolAlign\") === \"right\" && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, restaurant.price_range, localStorage.getItem(\"currencyFormat\"), \" \"), localStorage.getItem(\"homePageForTwoText\")))))), user.success && React.createElement(\"span\", {\n        onClick: this.setFavoriteRestaurant,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        ref: \"heartIcon\",\n        className: \"heart \".concat(restaurant.is_favorited && \"is-active\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      })))), restaurant.custom_message !== \"<p><br></p>\" && restaurant.custom_message !== \"null\" && restaurant.custom_message !== \"\" && React.createElement(\"div\", {\n        style: {\n          position: \"relative\",\n          background: \"#fff\"\n        },\n        dangerouslySetInnerHTML: {\n          __html: restaurant.custom_message\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.restaurant_info !== prevState.restaurant_info) {\n        return {\n          data: nextProps.restaurant_info\n        };\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return RestaurantInfo;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    restaurant_info: state.items.restaurant_info,\n    user: state.user.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setFavoriteRest: setFavoriteRest\n})(RestaurantInfo);","map":{"version":3,"sources":["C:\\xampp\\htdocs\\foodomaa\\src\\components\\Mobile\\Items\\RestaurantInfo\\index.js"],"names":["React","Component","BackWithSearch","ContentLoader","Link","connect","setFavoriteRest","RestaurantInfo","state","withLinkToRestaurant","isFavorite","fixedRestaurantInfo","hidden","child","heading","classList","add","remove","scrollFunc","document","documentElement","scrollTop","setFavoriteRestaurant","props","restaurant_info","user","success","is_favorited","refs","heartIcon","data","auth_token","id","setState","history","location","fromExplorePage","registerScrollEvent","removeScrollEvent","window","addEventListener","removeEventListener","restaurant","node","length","slug","image","name","description","is_pureveg","localStorage","getItem","width","avgRating","color","rating","display","delivery_time","price_range","custom_message","position","background","__html","nextProps","prevState","mapStateToProps","items"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport BackWithSearch from \"../../Elements/BackWithSearch\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { setFavoriteRest } from \"../../../../services/items/actions\";\r\n\r\nclass RestaurantInfo extends Component {\r\n\tstate = {\r\n\t\twithLinkToRestaurant: false,\r\n\t\tisFavorite: false,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ withLinkToRestaurant: this.props.withLinkToRestaurant });\r\n\r\n\t\tif (this.props.history.location.state && this.props.history.location.state.fromExplorePage) {\r\n\t\t\tthis.setState({ withLinkToRestaurant: this.props.history.location.state.fromExplorePage });\r\n\t\t}\r\n\r\n\t\tthis.registerScrollEvent();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.removeScrollEvent();\r\n\t}\r\n\r\n\tfixedRestaurantInfo = (hidden) => {\r\n\t\tif (this.child) {\r\n\t\t\tif (hidden) {\r\n\t\t\t\tthis.child.heading.classList.add(\"hidden\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.child.heading.classList.remove(\"hidden\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tregisterScrollEvent() {\r\n\t\twindow.addEventListener(\"scroll\", this.scrollFunc);\r\n\t}\r\n\tremoveScrollEvent() {\r\n\t\twindow.removeEventListener(\"scroll\", this.scrollFunc);\r\n\t}\r\n\tscrollFunc = () => {\r\n\t\tif (document.documentElement.scrollTop > 55) {\r\n\t\t\tlet hidden = false;\r\n\t\t\tthis.fixedRestaurantInfo(hidden);\r\n\t\t}\r\n\t\tif (document.documentElement.scrollTop < 55) {\r\n\t\t\tlet hidden = true;\r\n\t\t\tthis.fixedRestaurantInfo(hidden);\r\n\t\t}\r\n\t};\r\n\r\n\tsetFavoriteRestaurant = () => {\r\n\t\tconst { restaurant_info, user } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\tif (restaurant_info.is_favorited) {\r\n\t\t\t\tthis.refs.heartIcon.classList.remove(\"is-active\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.refs.heartIcon.classList.add(\"is-active\");\r\n\t\t\t}\r\n\t\t\tthis.props.setFavoriteRest(user.data.auth_token, restaurant_info.id);\r\n\t\t}\r\n\t};\r\n\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\tif (nextProps.restaurant_info !== prevState.restaurant_info) {\r\n\t\t\treturn {\r\n\t\t\t\tdata: nextProps.restaurant_info,\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { history, restaurant, user } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"bg-white\">\r\n\t\t\t\t\t<BackWithSearch\r\n\t\t\t\t\t\tref={(node) => {\r\n\t\t\t\t\t\t\tthis.child = node;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\tboxshadow={false}\r\n\t\t\t\t\t\thas_restaurant_info={true}\r\n\t\t\t\t\t\trestaurant={restaurant}\r\n\t\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t\t\thomeButton={true}\r\n\t\t\t\t\t\tshareButton={true}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{restaurant.length === 0 ? (\r\n\t\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\t\theight={170}\r\n\t\t\t\t\t\t\twidth={400}\r\n\t\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<rect x=\"20\" y=\"70\" rx=\"4\" ry=\"4\" width=\"80\" height=\"78\" />\r\n\t\t\t\t\t\t\t<rect x=\"144\" y=\"85\" rx=\"0\" ry=\"0\" width=\"115\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"144\" y=\"115\" rx=\"0\" ry=\"0\" width=\"165\" height=\"16\" />\r\n\t\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={\"../../stores/\" + restaurant.slug}\r\n\t\t\t\t\t\t\t\tclassName={this.state.withLinkToRestaurant ? \"\" : \"no-click\"}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex pt-50\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"px-15 mt-5\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={restaurant.image}\r\n\t\t\t\t\t\t\t\t\t\t\talt={restaurant.name}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"restaurant-image mt-0\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"mt-5 pb-15 w-100\">\r\n\t\t\t\t\t\t\t\t\t\t<h4 className=\"font-w600 mb-5 text-dark\">{restaurant.name}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm text-muted truncate-text text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t{restaurant.description}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{restaurant.is_pureveg === 1 && (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-size-sm pr-1 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"pureVegText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/pure-veg.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"PureVeg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"20px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-center restaurant-meta mt-5 d-flex align-items-center justify-content-between text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t{restaurant.avgRating === \"0\" ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-2 p-0 text-left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"fa fa-star\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.rating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={\"/reviews/\" + restaurant.slug}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: \"contents\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"yes-click\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-2 p-0 text-left store-rating-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"fa fa-star\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.avgRating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-4 p-0 text-center store-distance-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"si si-clock\" /> {restaurant.delivery_time}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"homePageMinsText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-6 p-0 text-center store-avgprice-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"si si-wallet\" />{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.price_range}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.price_range}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencyFormat\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"homePageForTwoText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t{user.success && (\r\n\t\t\t\t\t\t\t\t<span onClick={this.setFavoriteRestaurant}>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tref=\"heartIcon\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={`heart ${restaurant.is_favorited && \"is-active\"}`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{restaurant.custom_message !== \"<p><br></p>\" &&\r\n\t\t\t\t\trestaurant.custom_message !== \"null\" &&\r\n\t\t\t\t\t(restaurant.custom_message !== \"\" && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tposition: \"relative\",\r\n\t\t\t\t\t\t\t\tbackground: \"#fff\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: restaurant.custom_message,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\trestaurant_info: state.items.restaurant_info,\r\n\tuser: state.user.user,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ setFavoriteRest }\r\n)(RestaurantInfo);\r\n"]},"metadata":{},"sourceType":"module"}