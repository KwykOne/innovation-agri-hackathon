{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\src\\\\components\\\\Mobile\\\\PWAInstallation\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { isAndroid } from \"react-device-detect\";\nimport Jello from \"react-reveal/Jello\";\nimport Ink from \"react-ink\";\nvar deferredPrompt;\n\nvar PWAInstallation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PWAInstallation, _Component);\n\n  function PWAInstallation() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PWAInstallation);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PWAInstallation)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      installable: false\n    };\n\n    _this.handleInstallClick = function (e) {\n      // Hide the app provided install promotion\n      _this.setState({\n        installable: false\n      }); // Show the install prompt\n\n\n      if (deferredPrompt) {\n        deferredPrompt.prompt(); // Wait for the user to respond to the prompt\n\n        deferredPrompt.userChoice.then(function (choiceResult) {\n          if (choiceResult.outcome === \"accepted\") {\n            console.log(\"User accepted the install prompt\");\n          } else {\n            console.log(\"User dismissed the install prompt\");\n          }\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(PWAInstallation, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                window.addEventListener(\"beforeinstallprompt\", function (e) {\n                  // Prevent the mini-infobar from appearing on mobile\n                  e.preventDefault(); // Stash the event so it can be triggered later.\n\n                  deferredPrompt = e; // Update UI notify the user they can install the PWA\n\n                  _this2.setState({\n                    installable: true\n                  });\n                });\n                window.addEventListener(\"appinstalled\", function () {\n                  // Log install to analytics\n                  deferredPrompt = null;\n\n                  _this2.setState({\n                    installable: false\n                  });\n\n                  console.log(\"INSTALL: Success\");\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.type === \"footer\") {\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, this.state.installable && isAndroid && React.createElement(\"div\", {\n          className: \"d-flex justify-content-center footer-pwa\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"d-flex fixed-pwa-install \".concat(localStorage.getItem(\"footerStyleType\") === \"FLOAT\" ? \"footer-float\" : \"footer-fixed\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"mb-0 mr-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, localStorage.getItem(\"pwaInstallFooterMessage\"))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn btn-success btn-md position-relative\",\n          onClick: this.handleInstallClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, localStorage.getItem(\"pwaInstallFooterInstallText\"), React.createElement(Ink, {\n          duration: 250,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }))))));\n      } else if (this.props.type === \"header\") {\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, this.state.installable && isAndroid && React.createElement(Jello, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"d-flex align-items-center nav-pwa\",\n          onClick: this.handleInstallClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"si si-screen-smartphone pwa-phone-icon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }))));\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return PWAInstallation;\n}(Component);\n\nexport default PWAInstallation;","map":{"version":3,"sources":["C:\\xampp\\htdocs\\foodomaa\\src\\components\\Mobile\\PWAInstallation\\index.js"],"names":["React","Component","isAndroid","Jello","Ink","deferredPrompt","PWAInstallation","state","installable","handleInstallClick","e","setState","prompt","userChoice","then","choiceResult","outcome","console","log","window","addEventListener","preventDefault","props","type","localStorage","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { isAndroid } from \"react-device-detect\";\nimport Jello from \"react-reveal/Jello\";\nimport Ink from \"react-ink\";\n\nlet deferredPrompt;\n\nclass PWAInstallation extends Component {\n\tstate = {\n\t\tinstallable: false,\n\t};\n\n\tasync componentDidMount() {\n\t\twindow.addEventListener(\"beforeinstallprompt\", (e) => {\n\t\t\t// Prevent the mini-infobar from appearing on mobile\n\t\t\te.preventDefault();\n\t\t\t// Stash the event so it can be triggered later.\n\t\t\tdeferredPrompt = e;\n\t\t\t// Update UI notify the user they can install the PWA\n\t\t\tthis.setState({ installable: true });\n\t\t});\n\n\t\twindow.addEventListener(\"appinstalled\", () => {\n\t\t\t// Log install to analytics\n\t\t\tdeferredPrompt = null;\n\t\t\tthis.setState({ installable: false });\n\n\t\t\tconsole.log(\"INSTALL: Success\");\n\t\t});\n\t}\n\n\thandleInstallClick = (e) => {\n\t\t// Hide the app provided install promotion\n\t\tthis.setState({ installable: false });\n\t\t// Show the install prompt\n\t\tif (deferredPrompt) {\n\t\t\tdeferredPrompt.prompt();\n\t\t\t// Wait for the user to respond to the prompt\n\t\t\tdeferredPrompt.userChoice.then((choiceResult) => {\n\t\t\t\tif (choiceResult.outcome === \"accepted\") {\n\t\t\t\t\tconsole.log(\"User accepted the install prompt\");\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"User dismissed the install prompt\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\trender() {\n\t\tif (this.props.type === \"footer\") {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{this.state.installable && isAndroid && (\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center footer-pwa\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`d-flex fixed-pwa-install ${\n\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"footerStyleType\") === \"FLOAT\"\n\t\t\t\t\t\t\t\t\t\t? \"footer-float\"\n\t\t\t\t\t\t\t\t\t\t: \"footer-fixed\"\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p className=\"mb-0 mr-3\">{localStorage.getItem(\"pwaInstallFooterMessage\")}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-success btn-md position-relative\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleInstallClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"pwaInstallFooterInstallText\")}\n\t\t\t\t\t\t\t\t\t\t<Ink duration={250} />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t} else if (this.props.type === \"header\") {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{this.state.installable && isAndroid && (\n\t\t\t\t\t\t<Jello>\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center nav-pwa\" onClick={this.handleInstallClick}>\n\t\t\t\t\t\t\t\t<i className=\"si si-screen-smartphone pwa-phone-icon\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Jello>\n\t\t\t\t\t)}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nexport default PWAInstallation;\n"]},"metadata":{},"sourceType":"module"}