{"ast":null,"code":"import _classCallCheck from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\src\\\\components\\\\Mobile\\\\Checkout\\\\index.js\";\nimport React, { Component } from \"react\";\nimport BackWithSearch from \"../../Mobile/Elements/BackWithSearch\";\nimport Meta from \"../../helpers/meta\";\nimport PaymentList from \"./PaymentList\";\nimport { Redirect } from \"react-router\";\nimport { checkConfirmCart } from \"../../../services/confirmCart/actions\";\nimport { connect } from \"react-redux\";\nimport { getPaymentGateways } from \"../../../services/paymentgateways/actions\";\nimport { GoogleApiWrapper } from \"google-maps-react\";\nimport Loading from \"../../helpers/loading\";\n\nvar Checkout =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Checkout, _Component);\n\n  function Checkout() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Checkout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Checkout)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: false,\n      process_distance_calc_loading: false,\n      continueFetchPaymentGateway: true,\n      gateways_received: false,\n      toPay: \"\"\n    };\n\n    _this.handleLoading = function (value) {\n      _this.setState({\n        loading: value\n      });\n    };\n\n    _this.fetchPaymentGateways = function (token) {\n      if (_this.state.continueFetchPaymentGateway) {\n        console.log(\"fetching again...\");\n\n        _this.props.getPaymentGateways(token, localStorage.getItem(\"activeRestaurant\")).then(function (response) {\n          if (response && response.payload) {\n            _this.setState({\n              continueFetchPaymentGateway: false,\n              gateways_received: true\n            });\n          }\n        });\n      } else {\n        clearInterval(_this.retryPaymentGatewaySetInterval);\n      }\n    };\n\n    _this.handleProcessDistanceCalcLoading = function (value) {\n      _this.setState({\n        process_distance_calc_loading: value\n      });\n    };\n\n    _this.handleToPayText = function (data) {\n      setTimeout(function () {\n        _this.setState({\n          toPay: data\n        });\n      }, 200);\n    };\n\n    return _this;\n  }\n\n  _createClass(Checkout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var user = this.props.user;\n\n      if (user) {\n        this.props.getPaymentGateways(user.data.auth_token, localStorage.getItem(\"activeRestaurant\")).then(function (response) {\n          if (response && response.payload) {\n            _this2.setState({\n              gateways_received: true\n            });\n          } else {\n            console.error(\"fetching payment gateways failed... trying again after 2.5s\");\n            _this2.retryPaymentGatewaySetInterval = setInterval(function () {\n              _this2.fetchPaymentGateways(user.data.auth_token);\n            }, 2500);\n          }\n        });\n      }\n\n      if (this.props.cartProducts.length) {\n        document.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey-light\");\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey-light\");\n      clearInterval(this.retryPaymentGatewaySetInterval);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.cartProducts.length) {// no items in cart after checkout goto cart page\n        // return <Redirect to={\"/cart\"} />;\n      }\n\n      if (window.innerWidth > 768) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        });\n      } //TODO:\n      //check if the referrer is cart page, if not then redirect to cart\n\n\n      if (!this.props.confirmCart) {\n        return React.createElement(Redirect, {\n          to: \"/cart\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        });\n      }\n\n      if (localStorage.getItem(\"storeColor\") === null) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, this.state.loading && React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), this.state.process_distance_calc_loading && React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(Meta, {\n        seotitle: localStorage.getItem(\"checkoutPageTitle\"),\n        seodescription: localStorage.getItem(\"seoMetaDescription\"),\n        ogtype: \"website\",\n        ogtitle: localStorage.getItem(\"seoOgTitle\"),\n        ogdescription: localStorage.getItem(\"seoOgDescription\"),\n        ogurl: window.location.href,\n        twittertitle: localStorage.getItem(\"seoTwitterTitle\"),\n        twitterdescription: localStorage.getItem(\"seoTwitterDescription\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(BackWithSearch, {\n        boxshadow: true,\n        has_title: true // title={{localStorage.getItem(\"checkoutPageTitle\")}}\n        ,\n        title: this.state.toPay,\n        disable_search: true,\n        from_checkout: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"pt-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pt-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(PaymentList, {\n        handleProcessDistanceCalcLoading: this.handleProcessDistanceCalcLoading,\n        paymentgateways: this.props.paymentgateways,\n        gatewayStatus: this.state.gateways_received,\n        handleLoading: this.handleLoading,\n        toPay: this.handleToPayText,\n        google: this.props.google,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Checkout;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    total: state.total.total,\n    user: state.user.user,\n    cartProducts: state.cart.products,\n    cartTotal: state.total.data,\n    coupon: state.coupon.coupon,\n    confirmCart: state.confirmCart.confirmCart,\n    paymentgateways: state.paymentgateways.paymentgateways\n  };\n}; // export default connect(\n// \tmapStateToProps,\n// \t{ checkConfirmCart, getPaymentGateways }\n// )(Checkout);\n\n\nexport default GoogleApiWrapper({\n  apiKey: localStorage.getItem(\"googleApiKey\"),\n  LoadingContainer: Loading\n})(connect(mapStateToProps, {\n  checkConfirmCart: checkConfirmCart,\n  getPaymentGateways: getPaymentGateways\n})(Checkout));","map":{"version":3,"sources":["C:\\xampp\\htdocs\\foodomaa\\src\\components\\Mobile\\Checkout\\index.js"],"names":["React","Component","BackWithSearch","Meta","PaymentList","Redirect","checkConfirmCart","connect","getPaymentGateways","GoogleApiWrapper","Loading","Checkout","state","loading","process_distance_calc_loading","continueFetchPaymentGateway","gateways_received","toPay","handleLoading","value","setState","fetchPaymentGateways","token","console","log","props","localStorage","getItem","then","response","payload","clearInterval","retryPaymentGatewaySetInterval","handleProcessDistanceCalcLoading","handleToPayText","data","setTimeout","user","auth_token","error","setInterval","cartProducts","length","document","getElementsByTagName","classList","add","remove","window","innerWidth","confirmCart","location","href","paymentgateways","google","mapStateToProps","total","cart","products","cartTotal","coupon","apiKey","LoadingContainer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport BackWithSearch from \"../../Mobile/Elements/BackWithSearch\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport PaymentList from \"./PaymentList\";\r\nimport { Redirect } from \"react-router\";\r\nimport { checkConfirmCart } from \"../../../services/confirmCart/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { getPaymentGateways } from \"../../../services/paymentgateways/actions\";\r\nimport { GoogleApiWrapper } from \"google-maps-react\";\r\nimport Loading from \"../../helpers/loading\";\r\n\r\nclass Checkout extends Component {\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\tprocess_distance_calc_loading: false,\r\n\t\tcontinueFetchPaymentGateway: true,\r\n\t\tgateways_received: false,\r\n\t\ttoPay: \"\",\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { user } = this.props;\r\n\r\n\t\tif (user) {\r\n\t\t\tthis.props\r\n\t\t\t\t.getPaymentGateways(user.data.auth_token, localStorage.getItem(\"activeRestaurant\"))\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tif (response && response.payload) {\r\n\t\t\t\t\t\tthis.setState({ gateways_received: true });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error(\"fetching payment gateways failed... trying again after 2.5s\");\r\n\t\t\t\t\t\tthis.retryPaymentGatewaySetInterval = setInterval(() => {\r\n\t\t\t\t\t\t\tthis.fetchPaymentGateways(user.data.auth_token);\r\n\t\t\t\t\t\t}, 2500);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.props.cartProducts.length) {\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey-light\");\r\n\t\t}\r\n\t}\r\n\r\n\thandleLoading = (value) => {\r\n\t\tthis.setState({ loading: value });\r\n\t};\r\n\r\n\tfetchPaymentGateways = (token) => {\r\n\t\tif (this.state.continueFetchPaymentGateway) {\r\n\t\t\tconsole.log(\"fetching again...\");\r\n\t\t\tthis.props.getPaymentGateways(token, localStorage.getItem(\"activeRestaurant\")).then((response) => {\r\n\t\t\t\tif (response && response.payload) {\r\n\t\t\t\t\tthis.setState({ continueFetchPaymentGateway: false, gateways_received: true });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tclearInterval(this.retryPaymentGatewaySetInterval);\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey-light\");\r\n\t\tclearInterval(this.retryPaymentGatewaySetInterval);\r\n\t}\r\n\r\n\thandleProcessDistanceCalcLoading = (value) => {\r\n\t\tthis.setState({ process_distance_calc_loading: value });\r\n\t};\r\n\r\n\thandleToPayText = (data) => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({ toPay: data });\r\n\t\t}, 200);\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (!this.props.cartProducts.length) {\r\n\t\t\t// no items in cart after checkout goto cart page\r\n\t\t\t// return <Redirect to={\"/cart\"} />;\r\n\t\t}\r\n\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\t//TODO:\r\n\t\t//check if the referrer is cart page, if not then redirect to cart\r\n\t\tif (!this.props.confirmCart) {\r\n\t\t\treturn <Redirect to={\"/cart\"} />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{this.state.loading && <Loading />}\r\n\t\t\t\t{this.state.process_distance_calc_loading && <Loading />}\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"checkoutPageTitle\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<BackWithSearch\r\n\t\t\t\t\tboxshadow={true}\r\n\t\t\t\t\thas_title={true}\r\n\t\t\t\t\t// title={{localStorage.getItem(\"checkoutPageTitle\")}}\r\n\t\t\t\t\ttitle={this.state.toPay}\r\n\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t\tfrom_checkout={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"pt-50\">\r\n\t\t\t\t\t<div className=\"pt-30\" />\r\n\t\t\t\t\t<PaymentList\r\n\t\t\t\t\t\thandleProcessDistanceCalcLoading={this.handleProcessDistanceCalcLoading}\r\n\t\t\t\t\t\tpaymentgateways={this.props.paymentgateways}\r\n\t\t\t\t\t\tgatewayStatus={this.state.gateways_received}\r\n\t\t\t\t\t\thandleLoading={this.handleLoading}\r\n\t\t\t\t\t\ttoPay={this.handleToPayText}\r\n\t\t\t\t\t\tgoogle={this.props.google}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\ttotal: state.total.total,\r\n\tuser: state.user.user,\r\n\tcartProducts: state.cart.products,\r\n\tcartTotal: state.total.data,\r\n\tcoupon: state.coupon.coupon,\r\n\tconfirmCart: state.confirmCart.confirmCart,\r\n\tpaymentgateways: state.paymentgateways.paymentgateways,\r\n});\r\n\r\n// export default connect(\r\n// \tmapStateToProps,\r\n// \t{ checkConfirmCart, getPaymentGateways }\r\n// )(Checkout);\r\n\r\nexport default GoogleApiWrapper({\r\n\tapiKey: localStorage.getItem(\"googleApiKey\"),\r\n\tLoadingContainer: Loading,\r\n})(\r\n\tconnect(\r\n\t\tmapStateToProps,\r\n\t\t{\r\n\t\t\tcheckConfirmCart,\r\n\t\t\tgetPaymentGateways,\r\n\t\t}\r\n\t)(Checkout)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}