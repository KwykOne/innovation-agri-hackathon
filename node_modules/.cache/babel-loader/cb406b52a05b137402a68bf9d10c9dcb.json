{"ast":null,"code":"import { LOGIN_USER, REGISTER_USER, LOGOUT_USER, UPDATE_USER_INFO, SEND_OTP, VERIFY_OTP, RUNNING_ORDER, GET_WALLET_TRANSACTIONS, SEND_PASSWORD_RESET_EMAIL, VERIFY_PASSWORD_RESET_OTP, CHANGE_USER_PASSWORD, SAVE_VAT_NUMBER } from \"./actionTypes\";\nimport { LOGIN_USER_URL, REGISTER_USER_URL, UPDATE_USER_INFO_URL, SEND_OTP_URL, VERIFY_OTP_URL, CHECK_USER_RUNNING_ORDER_URL, GET_WALLET_TRANSACTIONS_URL, SEND_PASSWORD_RESET_EMAIL_URL, VERIFY_PASSWORD_RESET_OTP_URL, CHANGE_USER_PASSWORD_URL, CHANGE_USER_AVATAR_URL, CHECK_BAN_URL, SAVE_VAT_NUMBER_URL } from \"../../configs\";\nimport { GET_ADDRESSES } from \"../addresses/actionTypes\";\nimport Axios from \"axios\";\nexport var loginUser = function loginUser(name, email, password, accessToken, phone, provider, address) {\n  return function (dispatch) {\n    Axios.post(LOGIN_USER_URL, {\n      name: name,\n      email: email,\n      password: password,\n      accessToken: accessToken,\n      phone: phone,\n      provider: provider,\n      address: address\n    }).then(function (response) {\n      var user = response.data;\n      return dispatch({\n        type: LOGIN_USER,\n        payload: user\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var registerUser = function registerUser(name, email, phone, password, address) {\n  return function (dispatch) {\n    Axios.post(REGISTER_USER_URL, {\n      name: name,\n      email: email,\n      phone: phone,\n      password: password,\n      address: address\n    }).then(function (response) {\n      var user = response.data;\n      return dispatch({\n        type: REGISTER_USER,\n        payload: user\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var logoutUser = function logoutUser() {\n  return function (dispatch) {\n    var user = [];\n    var walletEmpty = [];\n    var emptyAddress = []; //remove geoLocation and userSetAddress\n\n    localStorage.removeItem(\"userSetAddress\");\n    localStorage.removeItem(\"geoLocation\");\n    localStorage.removeItem(\"lastSavedNotificationToken\");\n    return [dispatch({\n      type: LOGOUT_USER,\n      payload: user\n    }), dispatch({\n      type: RUNNING_ORDER,\n      payload: false\n    }), dispatch({\n      type: GET_WALLET_TRANSACTIONS,\n      payload: walletEmpty\n    }), dispatch({\n      type: GET_ADDRESSES,\n      payload: emptyAddress\n    })];\n  };\n};\nexport var updateUserInfo = function updateUserInfo(user_id, token, unique_order_id) {\n  return function (dispatch) {\n    return Axios.post(UPDATE_USER_INFO_URL, {\n      token: token,\n      user_id: user_id,\n      unique_order_id: unique_order_id\n    }).then(function (response) {\n      var user = response.data;\n      return dispatch({\n        type: UPDATE_USER_INFO,\n        payload: user\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var checkUserRunningOrder = function checkUserRunningOrder(user_id, token) {\n  return function (dispatch) {\n    Axios.post(CHECK_USER_RUNNING_ORDER_URL, {\n      token: token,\n      user_id: user_id\n    }).then(function (response) {\n      var running_order = response.data;\n      return dispatch({\n        type: RUNNING_ORDER,\n        payload: running_order\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var sendOtp = function sendOtp(email, phone, accessToken, provider) {\n  return function (dispatch) {\n    return Axios.post(SEND_OTP_URL, {\n      email: email,\n      phone: phone,\n      accessToken: accessToken,\n      provider: provider\n    }).then(function (response) {\n      var user = response.data;\n      return dispatch({\n        type: SEND_OTP,\n        payload: user\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var verifyOtp = function verifyOtp(phone, otp) {\n  return function (dispatch) {\n    Axios.post(VERIFY_OTP_URL, {\n      phone: phone,\n      otp: otp\n    }).then(function (response) {\n      var user = response.data;\n      return dispatch({\n        type: VERIFY_OTP,\n        payload: user\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var getWalletTransactions = function getWalletTransactions(token, user_id) {\n  return function (dispatch) {\n    Axios.post(GET_WALLET_TRANSACTIONS_URL, {\n      token: token,\n      user_id: user_id\n    }).then(function (response) {\n      var wallet = response.data;\n      return dispatch({\n        type: GET_WALLET_TRANSACTIONS,\n        payload: wallet\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var sendPasswordResetMail = function sendPasswordResetMail(email) {\n  return function (dispatch) {\n    Axios.post(SEND_PASSWORD_RESET_EMAIL_URL, {\n      email: email\n    }).then(function (response) {\n      var data = response.data;\n      return dispatch({\n        type: SEND_PASSWORD_RESET_EMAIL,\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var verifyPasswordResetOtp = function verifyPasswordResetOtp(email, code) {\n  return function (dispatch) {\n    Axios.post(VERIFY_PASSWORD_RESET_OTP_URL, {\n      email: email,\n      code: code\n    }).then(function (response) {\n      var data = response.data;\n      return dispatch({\n        type: VERIFY_PASSWORD_RESET_OTP,\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var changeUserPassword = function changeUserPassword(email, code, password) {\n  return function (dispatch) {\n    Axios.post(CHANGE_USER_PASSWORD_URL, {\n      email: email,\n      code: code,\n      password: password\n    }).then(function (response) {\n      var data = response.data;\n      return dispatch({\n        type: CHANGE_USER_PASSWORD,\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var changeAvatar = function changeAvatar(token, avatar) {\n  return function () {\n    return Axios.post(CHANGE_USER_AVATAR_URL, {\n      token: token,\n      avatar: avatar\n    }).then(function (response) {\n      var data = response.data;\n      return data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var checkBan = function checkBan(token) {\n  return function () {\n    return Axios.post(CHECK_BAN_URL, {\n      token: token\n    }).then(function (response) {\n      var data = response.data;\n      return data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport var saveVATNumber = function saveVATNumber(token, vatNumber) {\n  return function (dispatch) {\n    return Axios.post(SAVE_VAT_NUMBER_URL, {\n      token: token,\n      tax_number: vatNumber\n    }).then(function (response) {\n      var data = response.data;\n      return dispatch({\n        type: SAVE_VAT_NUMBER,\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};","map":{"version":3,"sources":["C:\\xampp\\htdocs\\foodomaa\\src\\services\\user\\actions.js"],"names":["LOGIN_USER","REGISTER_USER","LOGOUT_USER","UPDATE_USER_INFO","SEND_OTP","VERIFY_OTP","RUNNING_ORDER","GET_WALLET_TRANSACTIONS","SEND_PASSWORD_RESET_EMAIL","VERIFY_PASSWORD_RESET_OTP","CHANGE_USER_PASSWORD","SAVE_VAT_NUMBER","LOGIN_USER_URL","REGISTER_USER_URL","UPDATE_USER_INFO_URL","SEND_OTP_URL","VERIFY_OTP_URL","CHECK_USER_RUNNING_ORDER_URL","GET_WALLET_TRANSACTIONS_URL","SEND_PASSWORD_RESET_EMAIL_URL","VERIFY_PASSWORD_RESET_OTP_URL","CHANGE_USER_PASSWORD_URL","CHANGE_USER_AVATAR_URL","CHECK_BAN_URL","SAVE_VAT_NUMBER_URL","GET_ADDRESSES","Axios","loginUser","name","email","password","accessToken","phone","provider","address","dispatch","post","then","response","user","data","type","payload","catch","error","console","log","registerUser","logoutUser","walletEmpty","emptyAddress","localStorage","removeItem","updateUserInfo","user_id","token","unique_order_id","checkUserRunningOrder","running_order","sendOtp","verifyOtp","otp","getWalletTransactions","wallet","sendPasswordResetMail","verifyPasswordResetOtp","code","changeUserPassword","changeAvatar","avatar","checkBan","saveVATNumber","vatNumber","tax_number"],"mappings":"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","sourcesContent":["import {\r\n\tLOGIN_USER,\r\n\tREGISTER_USER,\r\n\tLOGOUT_USER,\r\n\tUPDATE_USER_INFO,\r\n\tSEND_OTP,\r\n\tVERIFY_OTP,\r\n\tRUNNING_ORDER,\r\n\tGET_WALLET_TRANSACTIONS,\r\n\tSEND_PASSWORD_RESET_EMAIL,\r\n\tVERIFY_PASSWORD_RESET_OTP,\r\n\tCHANGE_USER_PASSWORD,\r\n\tSAVE_VAT_NUMBER,\r\n} from \"./actionTypes\";\r\nimport {\r\n\tLOGIN_USER_URL,\r\n\tREGISTER_USER_URL,\r\n\tUPDATE_USER_INFO_URL,\r\n\tSEND_OTP_URL,\r\n\tVERIFY_OTP_URL,\r\n\tCHECK_USER_RUNNING_ORDER_URL,\r\n\tGET_WALLET_TRANSACTIONS_URL,\r\n\tSEND_PASSWORD_RESET_EMAIL_URL,\r\n\tVERIFY_PASSWORD_RESET_OTP_URL,\r\n\tCHANGE_USER_PASSWORD_URL,\r\n\tCHANGE_USER_AVATAR_URL,\r\n\tCHECK_BAN_URL,\r\n\tSAVE_VAT_NUMBER_URL,\r\n} from \"../../configs\";\r\nimport { GET_ADDRESSES } from \"../addresses/actionTypes\";\r\n\r\nimport Axios from \"axios\";\r\n\r\nexport const loginUser = (name, email, password, accessToken, phone, provider, address) => (dispatch) => {\r\n\tAxios.post(LOGIN_USER_URL, {\r\n\t\tname: name,\r\n\t\temail: email,\r\n\t\tpassword: password,\r\n\t\taccessToken: accessToken,\r\n\t\tphone: phone,\r\n\t\tprovider: provider,\r\n\t\taddress: address,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: LOGIN_USER, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const registerUser = (name, email, phone, password, address) => (dispatch) => {\r\n\tAxios.post(REGISTER_USER_URL, {\r\n\t\tname: name,\r\n\t\temail: email,\r\n\t\tphone: phone,\r\n\t\tpassword: password,\r\n\t\taddress: address,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: REGISTER_USER, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const logoutUser = () => (dispatch) => {\r\n\tconst user = [];\r\n\tconst walletEmpty = [];\r\n\tconst emptyAddress = [];\r\n\r\n\t//remove geoLocation and userSetAddress\r\n\tlocalStorage.removeItem(\"userSetAddress\");\r\n\tlocalStorage.removeItem(\"geoLocation\");\r\n\tlocalStorage.removeItem(\"lastSavedNotificationToken\");\r\n\r\n\treturn [\r\n\t\tdispatch({\r\n\t\t\ttype: LOGOUT_USER,\r\n\t\t\tpayload: user,\r\n\t\t}),\r\n\t\tdispatch({\r\n\t\t\ttype: RUNNING_ORDER,\r\n\t\t\tpayload: false,\r\n\t\t}),\r\n\t\tdispatch({\r\n\t\t\ttype: GET_WALLET_TRANSACTIONS,\r\n\t\t\tpayload: walletEmpty,\r\n\t\t}),\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: GET_ADDRESSES,\r\n\t\t\tpayload: emptyAddress,\r\n\t\t}),\r\n\t];\r\n};\r\n\r\nexport const updateUserInfo = (user_id, token, unique_order_id) => (dispatch) => {\r\n\treturn Axios.post(UPDATE_USER_INFO_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t\tunique_order_id: unique_order_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: UPDATE_USER_INFO, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const checkUserRunningOrder = (user_id, token) => (dispatch) => {\r\n\tAxios.post(CHECK_USER_RUNNING_ORDER_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst running_order = response.data;\r\n\t\t\treturn dispatch({ type: RUNNING_ORDER, payload: running_order });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const sendOtp = (email, phone, accessToken, provider) => (dispatch) => {\r\n\treturn Axios.post(SEND_OTP_URL, {\r\n\t\temail: email,\r\n\t\tphone: phone,\r\n\t\taccessToken: accessToken,\r\n\t\tprovider: provider,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: SEND_OTP, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const verifyOtp = (phone, otp) => (dispatch) => {\r\n\tAxios.post(VERIFY_OTP_URL, {\r\n\t\tphone: phone,\r\n\t\totp: otp,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: VERIFY_OTP, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const getWalletTransactions = (token, user_id) => (dispatch) => {\r\n\tAxios.post(GET_WALLET_TRANSACTIONS_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst wallet = response.data;\r\n\t\t\treturn dispatch({ type: GET_WALLET_TRANSACTIONS, payload: wallet });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const sendPasswordResetMail = (email) => (dispatch) => {\r\n\tAxios.post(SEND_PASSWORD_RESET_EMAIL_URL, {\r\n\t\temail: email,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: SEND_PASSWORD_RESET_EMAIL, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const verifyPasswordResetOtp = (email, code) => (dispatch) => {\r\n\tAxios.post(VERIFY_PASSWORD_RESET_OTP_URL, {\r\n\t\temail: email,\r\n\t\tcode: code,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: VERIFY_PASSWORD_RESET_OTP, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const changeUserPassword = (email, code, password) => (dispatch) => {\r\n\tAxios.post(CHANGE_USER_PASSWORD_URL, {\r\n\t\temail: email,\r\n\t\tcode: code,\r\n\t\tpassword: password,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: CHANGE_USER_PASSWORD, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const changeAvatar = (token, avatar) => () => {\r\n\treturn Axios.post(CHANGE_USER_AVATAR_URL, {\r\n\t\ttoken: token,\r\n\t\tavatar: avatar,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn data;\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const checkBan = (token) => () => {\r\n\treturn Axios.post(CHECK_BAN_URL, {\r\n\t\ttoken: token,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn data;\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const saveVATNumber = (token, vatNumber) => (dispatch) => {\r\n\treturn Axios.post(SAVE_VAT_NUMBER_URL, {\r\n\t\ttoken: token,\r\n\t\ttax_number: vatNumber,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: SAVE_VAT_NUMBER, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n"]},"metadata":{},"sourceType":"module"}