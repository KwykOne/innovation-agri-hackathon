{"ast":null,"code":"import _classCallCheck from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\foodomaa\\\\src\\\\components\\\\Desktop\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getSettings } from \"../../services/settings/actions\";\nimport { getSingleLanguageData } from \"../../services/languages/actions\";\nimport V1 from \"./V1\"; // import V2 from \"./V2\";\n\nvar Desktop =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Desktop, _Component);\n\n  function Desktop() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Desktop);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Desktop)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      showGdpr: false\n    };\n\n    _this.handleGdprClick = function () {\n      localStorage.setItem(\"gdprAccepted\", \"true\");\n\n      _this.setState({\n        showGdpr: false\n      });\n    };\n\n    _this.handleOnChange = function (event) {\n      // console.log(event.target.value);\n      _this.props.getSingleLanguageData(event.target.value);\n\n      localStorage.setItem(\"userPreferedLanguage\", event.target.value);\n    };\n\n    return _this;\n  }\n\n  _createClass(Desktop, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (localStorage.getItem(\"desktopLoaded\") === null) {\n        console.log(\"FIRST LOAD\");\n        localStorage.setItem(\"desktopLoaded\", \"1\");\n      } else {\n        var counter = parseInt(localStorage.getItem(\"desktopLoaded\")); // console.log(\"COUNTER\", counter);\n\n        localStorage.setItem(\"desktopLoaded\", counter + 1);\n      }\n\n      if (!localStorage.getItem(\"storeColor\")) {\n        this.props.getSettings();\n      }\n\n      if (!localStorage.getItem(\"gdprAccepted\")) {\n        localStorage.setItem(\"gdprAccepted\", \"false\");\n\n        if (localStorage.getItem(\"showGdpr\") === \"true\") {\n          this.setState({\n            showGdpr: true\n          });\n        }\n      }\n\n      if (localStorage.getItem(\"showGdpr\") === \"true\" && localStorage.getItem(\"gdprAccepted\") === \"false\") {\n        this.setState({\n          showGdpr: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.languages !== nextProps.languages) {\n        if (localStorage.getItem(\"userPreferedLanguage\")) {\n          this.props.getSingleLanguageData(localStorage.getItem(\"userPreferedLanguage\")); // console.log(\"Called 1\");\n        } else {\n          if (nextProps.languages.length) {\n            var id = nextProps.languages.filter(function (lang) {\n              return lang.is_default === 1;\n            })[0].id;\n            this.props.getSingleLanguageData(id);\n          }\n        }\n      }\n\n      setTimeout(function () {\n        if (localStorage.getItem(\"desktopLoaded\") === \"1\") {\n          window.location.reload(true);\n        }\n      }, 2000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(V1, {\n        languages: this.props.languages,\n        handleOnChange: this.handleOnChange,\n        restaurant: this.props.restaurant,\n        itemId: this.props.itemId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Desktop;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    settings: state.settings.settings,\n    languages: state.languages.languages,\n    language: state.languages.language\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getSettings: getSettings,\n  getSingleLanguageData: getSingleLanguageData\n})(Desktop);","map":{"version":3,"sources":["C:\\xampp\\htdocs\\foodomaa\\src\\components\\Desktop\\index.js"],"names":["React","Component","connect","getSettings","getSingleLanguageData","V1","Desktop","state","showGdpr","handleGdprClick","localStorage","setItem","setState","handleOnChange","event","props","target","value","getItem","console","log","counter","parseInt","nextProps","languages","length","id","filter","lang","is_default","setTimeout","window","location","reload","restaurant","itemId","mapStateToProps","settings","language"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { getSettings } from \"../../services/settings/actions\";\r\nimport { getSingleLanguageData } from \"../../services/languages/actions\";\r\nimport V1 from \"./V1\";\r\n// import V2 from \"./V2\";\r\n\r\nclass Desktop extends Component {\r\n\tstate = {\r\n\t\tshowGdpr: false,\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tif (localStorage.getItem(\"desktopLoaded\") === null) {\r\n\t\t\tconsole.log(\"FIRST LOAD\");\r\n\t\t\tlocalStorage.setItem(\"desktopLoaded\", \"1\");\r\n\t\t} else {\r\n\t\t\tlet counter = parseInt(localStorage.getItem(\"desktopLoaded\"));\r\n\t\t\t// console.log(\"COUNTER\", counter);\r\n\t\t\tlocalStorage.setItem(\"desktopLoaded\", counter + 1);\r\n\t\t}\r\n\r\n\t\tif (!localStorage.getItem(\"storeColor\")) {\r\n\t\t\tthis.props.getSettings();\r\n\t\t}\r\n\r\n\t\tif (!localStorage.getItem(\"gdprAccepted\")) {\r\n\t\t\tlocalStorage.setItem(\"gdprAccepted\", \"false\");\r\n\t\t\tif (localStorage.getItem(\"showGdpr\") === \"true\") {\r\n\t\t\t\tthis.setState({ showGdpr: true });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (localStorage.getItem(\"showGdpr\") === \"true\" && localStorage.getItem(\"gdprAccepted\") === \"false\") {\r\n\t\t\tthis.setState({ showGdpr: true });\r\n\t\t}\r\n\t}\r\n\thandleGdprClick = () => {\r\n\t\tlocalStorage.setItem(\"gdprAccepted\", \"true\");\r\n\t\tthis.setState({ showGdpr: false });\r\n\t};\r\n\r\n\thandleOnChange = (event) => {\r\n\t\t// console.log(event.target.value);\r\n\t\tthis.props.getSingleLanguageData(event.target.value);\r\n\t\tlocalStorage.setItem(\"userPreferedLanguage\", event.target.value);\r\n\t};\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (this.props.languages !== nextProps.languages) {\r\n\t\t\tif (localStorage.getItem(\"userPreferedLanguage\")) {\r\n\t\t\t\tthis.props.getSingleLanguageData(localStorage.getItem(\"userPreferedLanguage\"));\r\n\t\t\t\t// console.log(\"Called 1\");\r\n\t\t\t} else {\r\n\t\t\t\tif (nextProps.languages.length) {\r\n\t\t\t\t\tconst id = nextProps.languages.filter((lang) => lang.is_default === 1)[0].id;\r\n\t\t\t\t\tthis.props.getSingleLanguageData(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (localStorage.getItem(\"desktopLoaded\") === \"1\") {\r\n\t\t\t\twindow.location.reload(true);\r\n\t\t\t}\r\n\t\t}, 2000);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<V1\r\n\t\t\t\t\tlanguages={this.props.languages}\r\n\t\t\t\t\thandleOnChange={this.handleOnChange}\r\n\t\t\t\t\trestaurant={this.props.restaurant}\r\n\t\t\t\t\titemId={this.props.itemId}\r\n\t\t\t\t/>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tsettings: state.settings.settings,\r\n\tlanguages: state.languages.languages,\r\n\tlanguage: state.languages.language,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getSettings, getSingleLanguageData }\r\n)(Desktop);\r\n"]},"metadata":{},"sourceType":"module"}